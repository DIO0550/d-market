---
name: commit
description: コミットルールスキル。コミットメッセージの書き方、分割ルール、禁止事項を定義。「コミットしたい」「変更をコミット」「git commit」などのリクエスト時に使用。絵文字付きタイプ、Issue連携、細かい分割を遵守。
---

# コミットルール

コミットメッセージと分割のルールを定義するスキル。

## コミットメッセージ形式

```
<type>: <subject>

[本文（任意）]

[フッター（Issue連携など）]
```

### タイプ一覧

| タイプ | フォーマット |
|:-|:-|
| 最初のコミット | 🎉 [Initial Commit]: |
| 新機能 | ✨ [New Feature]: |
| バグ修正 | 🐛 [Bug fix]: |
| リファクタリング | ♻️ [Refactoring]: |
| UI/UX | 🎨 [Accessibility]: |
| パフォーマンス | 🐎 [Performance]: |
| テスト | 🚨 [Tests]: |
| 削除 | 🗑️ [Remove]: |
| ドキュメント | 📖 [Doc]: |
| WIP | 🚧 [WIP]: |

### Issue連携

関連Issueがある場合は必ず記載:

- 解決: `Closes #123` または `Fixes #123`
- 参照: `Refs #123` または `Relates to #123`

```
✨ [New Feature]: ユーザ検索にロール絞り込みフィルタを追加

Closes #123
```

## 分割ルール

### 基本方針

- **1コミット = 1つの最小単位の変更**
- **小さすぎても構わない。大きいより小さいコミットを優先**

### 必須の分割ケース

以下は必ず分割:

- 複数機能の同時実装
- バグ修正と新機能の同時実装
- リファクタリングと機能追加の同時実装
- 異なる目的の複数ファイル変更
- テストコードと実装コードの同時変更
- ドキュメント更新と機能実装の同時実施

### 粒度の目安

- **最小単位**: 1関数、1コンポーネント、1設定変更
- **変更行数**: 50行以下を目安
- **理解しやすさ**: メッセージだけで変更内容が理解できる
- **独立性**: コミット単体で意味をなす
- **ビルド状態**: 各コミットでビルドが通る

## 禁止事項

### 禁止コマンド

```bash
# これらは使用禁止
git add .
git add --all
git add -A
```

### 禁止メッセージ

以下のような曖昧なメッセージは禁止:

- 修正 / ちょっと修正 / 細かい修正 / 微調整
- 対応 / 対応しました / レビュー指摘対応
- リファクタ（対象不明瞭）
- 調整 / 更新 / 変更 / 追加 だけ
- fix / update / change / modify だけ

### 良い書き方

1. 何を（対象）
2. どうした（操作）
3. なぜ（目的/意図）

詳細は `references/examples.md` を参照。
